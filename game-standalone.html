<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game - Standalone Build</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #222;
            font-family: Arial, sans-serif;
        }
        #gameCanvas {
            border: 2px solid #fff;
            background-color: #000;
            max-width: 100%;
            height: auto;
        }
        @media (max-width: 820px) {
            #gameCanvas {
                width: 95vw;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <script>
        // Game source - fully self-contained
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Error handling for canvas context
        if (!ctx) {
            console.error('Canvas 2D context not supported');
            document.body.innerHTML = '<p style="color: white; text-align: center;">Canvas not supported in this browser</p>';
        }

        // Game state
        const game = {
            running: false,
            player: {
                x: canvas.width / 2,
                y: canvas.height / 2,
                size: 20,
                color: '#00ff00'
            }
        };

        // Initialize game
        function init() {
            try {
                game.running = true;
                gameLoop();
                console.log('Game initialized successfully');
            } catch (error) {
                console.error('Game initialization failed:', error);
            }
        }

        // Main game loop
        function gameLoop() {
            if (!game.running) return;
            
            update();
            render();
            
            requestAnimationFrame(gameLoop);
        }

        // Update game logic
        function update() {
            // Game logic goes here
        }

        // Render game
        function render() {
            // Clear canvas
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw player
            ctx.fillStyle = game.player.color;
            ctx.fillRect(
                game.player.x - game.player.size / 2,
                game.player.y - game.player.size / 2,
                game.player.size,
                game.player.size
            );
        }

        // Start the game
        init();
    </script>
</body>
</html>